{"version":3,"sources":["webpack:////Users/jeff/work/hjhlwx1/main.js","webpack:////Users/jeff/work/hjhlwx1/pages/order/order.vue?15bb","webpack:////Users/jeff/work/hjhlwx1/pages/order/order.vue?13b0","webpack:////Users/jeff/work/hjhlwx1/pages/order/order.vue?3fff","webpack:////Users/jeff/work/hjhlwx1/pages/order/order.vue?dbc7","webpack:////Users/jeff/work/hjhlwx1/pages/order/order.vue","webpack:////Users/jeff/work/hjhlwx1/pages/order/order.vue?943c","webpack:////Users/jeff/work/hjhlwx1/pages/order/order.vue?5427"],"names":["createPage","Page","data","orderList","services","orderStates","currentUser","onLoad","options","onShow","Util","isLogin","uni","redirectTo","url","getApp","globalData","users","bindData","methods","showOrderDetail","orderItem","selectedOrderItem","navigateTo","API","getOrderList","response","hideLoading","orders","undefined","orderName","getProductName","orderStateName","getOrderStateName","source","id","productName","associations","order_rows","orderProduct","service","products","product","Number","product_id","hotel_name","product_name","stateName","name","state","current_state"],"mappings":"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","file":"pages/order/order.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/order/order.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./order.vue?vue&type=template&id=23cd526e&\"\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('23cd526e', component.options)\n    } else {\n      api.reload('23cd526e', component.options)\n    }\n    module.hot.accept(\"./order.vue?vue&type=template&id=23cd526e&\", function () {\n      api.rerender('23cd526e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/jeff/work/hjhlwx1/pages/order/order.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=template&id=23cd526e&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport API from '@/common/api.js';\nimport Util from '@/common/util.js';\n\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t// orderList: [{\n\t\t\t// \tid: 0,\n\t\t\t// \torderStateName: '',\n\t\t\t// \treference: '',\n\t\t\t// \tdate_upd: '',\n\t\t\t// \tgift_message: '',\n\t\t\t// \tassociations: {\n\t\t\t// \t\torder_rows: [{\n\t\t\t// \t\t\tid: '',\n\t\t\t// \t\t\tproduct_name: ''\n\t\t\t// \t\t}],\n\t\t\t// \t},\n\t\t\t// \torderName: ''\n\t\t\t// }],\n\t\t\torderList: [],\n\t\t\tservices: [],\n\t\t\torderStates: [],\n\t\t\tcurrentUser: {}\n\t\t}\n\t},\n\tonLoad(options) {\n\t\t\n\t},\n\tonShow() {\n\t\t//判断是否登录\n\t\tif(!Util.isLogin()){\n\t\t\tuni.redirectTo({\n\t\t\t\turl: '/pages/index/index'\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.currentUser = getApp().globalData.users[0];\n\t\t//绑定主服务\n\t\tthis.services = getApp().globalData.services;\n\t\t// bind order states\n\t\tthis.orderStates = getApp().globalData.orderStates;\n\t\t//绑定数据\n\t\tthis.bindData();\n\t\t//取消消息信息\n\t\t// wx.hideTabBarRedDot({\n\t\t// \tindex: 2\n\t\t// });\n\t},\n\tmethods: {\n\t\tshowOrderDetail: function(orderItem) {\n\t\t\t// set selected order item\n\t\t\tgetApp().globalData.selectedOrderItem = orderItem;\n\t\t\t// jump to next page\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/order/orderDetail'\n\t\t\t});\n\t\t},\n\t\tbindData: function() {\n\t\t\tAPI.getOrderList((response) => {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tif(response.data.orders!=undefined){\n\t\t\t\t\tthis.orderList = response.data.orders;\n\t\t\t\t\tfor (let orderItem of this.orderList) {\n\t\t\t\t\t\torderItem.orderName = this.getProductName(orderItem);\n\t\t\t\t\t\torderItem.orderStateName = this.getOrderStateName(orderItem);\n\t\t\t\t\t\tif (!orderItem.source) {\n\t\t\t\t\t\t\torderItem.source = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\t'display': 'full',\n\t\t\t\t'filter[id_customer]': '[' + this.currentUser.id + ']',\n\t\t\t\t'sort': '[id_DESC]'\n\t\t\t});\n\t\t},\n\t\tgetProductName: function(orderItem) {\n\t\t\tlet productName = '';\n\t\t\tif (orderItem && orderItem.id > 0 && orderItem.associations && orderItem.associations.order_rows) {\n\t\t\t\tfor (let orderProduct of orderItem.associations.order_rows) {\n\t\t\t\t\tfor (let service of this.services) {\n\t\t\t\t\t\tfor (let product of service.associations.products) {\n\t\t\t\t\t\t\tif (Number(orderProduct.product_id) === Number(product.id)) {\n\t\t\t\t\t\t\t\tproductName += service.hotel_name;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (productName) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// if not find right name then replace to order name\n\t\t\t\t\tif (!productName) {\n\t\t\t\t\t\tproductName += orderProduct.product_name;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn productName;\n\t\t},\n\t\tgetOrderStateName: function(orderItem) {\n\t\t\tlet stateName = this.orderStates[0].name;\n\t\t\tfor (let state of this.orderStates) {\n\t\t\t\tif (Number(orderItem.current_state) === state.id) {\n\t\t\t\t\tstateName = state.name;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn stateName;\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}